(this["webpackJsonpjunior-frontend-test"]=this["webpackJsonpjunior-frontend-test"]||[]).push([[0],{13:function(t,e,a){t.exports={header:"Header_header__36uNv",headerInner:"Header_headerInner__C9-IX",mainTitle:"Header_mainTitle__2Zv2E"}},14:function(t,e,a){t.exports={status:"Status_status__1upTf",statusLabel:"Status_statusLabel__ymIEE",statusInput:"Status_statusInput__1nSWk"}},18:function(t,e,a){t.exports={productsInner:"App_productsInner__1YS43"}},2:function(t,e,a){t.exports={productCard:"ProductList_productCard__3EtQI",productCardItem:"ProductList_productCardItem__PLe9p",productCardContent:"ProductList_productCardContent__1SDYD",productCardDescContainer:"ProductList_productCardDescContainer__1gmTF",productCardCategoryName:"ProductList_productCardCategoryName__1MuDD",productCardName:"ProductList_productCardName__1DCu6",productCardDescription:"ProductList_productCardDescription__3RuNh",productCardPriceContainer:"ProductList_productCardPriceContainer__eYpPA",productCardPrice:"ProductList_productCardPrice__3FQCq",productCardDiscount:"ProductList_productCardDiscount__2YX6O",productCardImg:"ProductList_productCardImg__2DN8K",statusBadges:"ProductList_statusBadges__2iMT1",statusBadge:"ProductList_statusBadge__D7Vzp",statusBadgeNew:"ProductList_statusBadgeNew__3ggzY"}},31:function(t,e,a){},4:function(t,e,a){t.exports={filters:"Filters_filters__tUN0Z",filtersTitle:"Filters_filtersTitle__1iSdp",filtersSectionContainer:"Filters_filtersSectionContainer__3BrB-",filtersSectionContent:"Filters_filtersSectionContent__2uAMS",filtersSectionTitle:"Filters_filtersSectionTitle__3mrf5",filtersSectionStatus:"Filters_filtersSectionStatus__1-AfR"}},56:function(t,e,a){"use strict";a.r(e);var s=a(1),c=a.n(s),r=a(10),n=a.n(r),i=(a(31),a(3)),o=a(5),d=a(2),u=a.n(d),l=a(26),j=a.n(l),b=a(0),h=function(t){switch(t){case"Wheat":return{src:"images/Wheat@1x.png",srcSet:"/images/Wheat@1x.png 1x, images/Wheat@1x.png 2x"};case"Soybeans":return{src:"images/Soybeans@1x.png",srcSet:"/images/Soybeans@1x.png 1x, images/Soybeans@1x.png 2x"};case"Oats":return{src:"images/Oats@1x.png",srcSet:"images/Oats@1x.png 1x, images/Oats@1x.png 2x"};case"Corn":return{src:"images/Corn@1x.png",srcSet:"images/Corn@1x.png 1x, images/Corn@1x.png 2x"};case"Canola":return{src:"images/Canola@1x.png",srcSet:"images/Canola@1x.png 1x, images/Canola@1x.png 2x"};case"Barley":return{src:"images/Barley@1x.png",srcSet:"images/Barley@1x.png 1x, images/Barley@1x.png 2x"}}},p=Object(s.memo)((function(t){var e=t.productItems,a=t.isFetch,s=t.isFetchError,c=e.map((function(t){var e=t.id,a=t.isLimited,s=t.isNew,c=t.price,r=t.name,n=t.categoryName,o=t.description,d=t.discount;return Object(b.jsxs)("li",{className:u.a.productCardItem,children:[Object(b.jsxs)("div",{className:u.a.statusBadges,children:[a&&Object(b.jsx)("span",{className:"".concat(u.a.statusBadge," ").concat(u.a.statusBadgeLimited),children:"Limited"}),s&&Object(b.jsx)("span",{className:"".concat(u.a.statusBadge," ").concat(u.a.statusBadgeNew),children:"New"})]}),Object(b.jsxs)("div",{className:u.a.productCardContent,children:[Object(b.jsx)("div",{className:u.a.productCardImg,children:Object(b.jsx)("img",Object(i.a)(Object(i.a)({},h(n)),{},{alt:n}))}),Object(b.jsxs)("div",{className:u.a.productCardDescContainer,children:[Object(b.jsx)("span",{className:u.a.productCardCategoryName,children:n}),Object(b.jsx)("h3",{className:u.a.productCardName,children:r}),Object(b.jsx)("p",{className:u.a.productCardDescription,children:o}),Object(b.jsxs)("p",{className:u.a.productCardPriceContainer,children:[Object(b.jsxs)("span",{className:u.a.productCardPrice,children:["$",c]}),Object(b.jsx)("span",{className:u.a.productCardDiscount,children:d})]})]})]})]},e)}));return Object(b.jsxs)("main",{className:u.a.productList,role:"main",children:[a&&Object(b.jsx)(j.a,{active:a,spinner:!0,text:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0442\u043e\u0432...",styles:{wrapper:{position:"absolute",width:"calc(100% - 44px)",height:"calc(100vh - 350px)",padding:"0",transition:"all .3s",fontFamily:"Montserrat, sansSerif"},overlay:{position:"absolute",width:"100%",height:"100%",display:"flex",textAlign:"center",fontSize:"2.2em",fontFamily:"Montserrat, sansSerif",color:"#000",fontWeight:"bold",borderRadius:"10px",zIndex:800,transition:"opacity .3s ease-in",opacity:.7},spinner:{"& svg":{width:"100px"},"& svg circle":{animation:"animation-1v1uyfb 1.5s ease-in-out infinite",strokeDasharray:"1,200",strokeDashoffset:0,strokeLinecap:"round",stroke:"#000"}}}}),!s&&Object(b.jsx)("ul",{className:u.a.productCard,"aria-labelledby":"Product list",children:c}),s&&Object(b.jsx)("p",{className:u.a.fetchErrorMessage,children:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0441\u0435\u0440\u0432\u0435\u0440\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443."})]})})),m=a(13),_=a.n(m),x=a(9),O=a.n(x),g=a(17),f=a.n(g),C=Object(s.memo)((function(t){var e=t.handleSearch,a=Object(s.useState)(""),c=Object(o.a)(a,2),r=c[0],n=c[1];return Object(b.jsxs)("form",{className:O.a.search,role:"search","aria-label":"Products search form",children:[Object(b.jsx)("button",{className:O.a.searchButton,type:"button",onClick:f()((function(){r&&e(r)}),600),children:Object(b.jsx)("img",{className:O.a.searchButtonIcon,src:"images/searchIcon.svg",width:"17",height:"17",alt:"Search button"})}),Object(b.jsx)("input",{className:O.a.searchInput,type:"search",onChange:f()((function(t){var a=t.target.value;t.nativeEvent.stopImmediatePropagation(),n(a),e(a)}),600),placeholder:"Search among products"})]})})),S=function(t){var e=t.handleSearch;return Object(b.jsx)("header",{className:_.a.header,children:Object(b.jsxs)("div",{className:_.a.headerInner,children:[Object(b.jsx)("h1",{className:_.a.mainTitle,children:"Products"}),Object(b.jsx)(C,{handleSearch:e})]})})},N=a(12),y=a(4),v=a.n(y),L=a(6),P=a.n(L),I=Object(s.memo)((function(t){var e=t.id,a=t.name,s=t.handleFiterProducts,c=t.pressed,r=c?"".concat(P.a.button," ").concat(P.a.buttonPress):P.a.button;return Object(b.jsx)("button",{className:r,onClick:function(){s(e,c)},children:a})})),B=Object(s.memo)((function(t){var e=t.name,a=t.handleClearCategoryFilter,s=t.pressed,c=s?"".concat(P.a.button," ").concat(P.a.buttonPress):P.a.button;return Object(b.jsx)("button",{className:c,onClick:function(){s||a()},children:e})})),w=a(14),F=a.n(w),D=Object(s.memo)((function(t){var e=t.label,a=t.handleStatus,s=t.ariaLabelledby;return Object(b.jsxs)("div",{className:F.a.status,children:[Object(b.jsx)("input",{id:e,className:F.a.statusInput,type:"checkbox",onChange:a,"aria-labelledby":s}),Object(b.jsx)("label",{htmlFor:e,className:F.a.statusLabel,children:e})]})})),E=Object(s.memo)((function(t){var e=t.allCategory,a=t.filterProducts,c=t.clearCategoryFilter,r=t.handleStatusLimited,n=t.handleStatusNew,d=Object(s.useState)([]),u=Object(o.a)(d,2),l=u[0],j=u[1],h=function(t,e){var s=e?l.filter((function(e){return t!==e})):[].concat(Object(N.a)(l),[t]);j(s),a(s)},p=e.map((function(t){return Object(b.jsx)(I,Object(i.a)(Object(i.a)({},t),{},{handleFiterProducts:h,categoryIds:l,pressed:l.includes(t.id)}),t.id)}));return Object(b.jsxs)("article",{className:v.a.filters,children:[Object(b.jsx)("h2",{className:v.a.filtersTitle,children:"Filters"}),Object(b.jsxs)("div",{className:v.a.filtersSectionContainer,"aria-labelledby":"Filter by products",children:[Object(b.jsxs)("section",{className:v.a.filtersSection,children:[Object(b.jsx)("h3",{className:v.a.filtersSectionTitle,children:"Category"}),Object(b.jsxs)("div",{className:v.a.filtersSectionContent,children:[Object(b.jsx)(B,{name:"All",pressed:!l.length,handleClearCategoryFilter:function(){j([]),c()}}),p]})]}),Object(b.jsxs)("section",{className:"".concat(v.a.filtersSection," ").concat(v.a.filtersSectionStatus),children:[Object(b.jsx)("h3",{className:v.a.filtersSectionTitle,children:"Status"}),Object(b.jsxs)("div",{className:v.a.filtersSectionContent,children:[Object(b.jsx)(D,{label:"Limited",handleStatus:r,ariaLabelledby:"label-status-limited"}),Object(b.jsx)(D,{label:"New",handleStatus:n,ariaLabelledby:"label-status-new"})]})]})]})]})})),T=function(t,e,a,s,c){var r,n=c?"".concat(t).concat((r=c,[].concat(Object(N.a)(r.category.map((function(t){return"category[]=".concat(t)}))),["isNew=".concat(r.isNew),"isLimited=".concat(r.isLimited),"search=".concat(r.search)]).join("&"))):t;fetch("/api/"+n).then((function(t){if(!t.ok||200!==t.status)throw a&&a(!0),new Error("Request failed with status code ".concat(t.status));return t.json()})).then((function(t){e(t),a&&a(!1),s&&s(!1)})).catch((function(t){console.error(t),a&&a(!0),s&&s(!1)}))},k=a(18),W=a.n(k),M={isNew:!1,isLimited:!1,search:"",category:[]};var A=function(){var t=Object(s.useState)(M),e=Object(o.a)(t,2),a=e[0],c=e[1],r=Object(s.useState)(null),n=Object(o.a)(r,2),d=n[0],u=n[1],l=Object(s.useState)([]),j=Object(o.a)(l,2),h=j[0],m=j[1],_=Object(s.useState)(!1),x=Object(o.a)(_,2),O=x[0],g=x[1],f=Object(s.useState)(!1),C=Object(o.a)(f,2),N=C[0],y=C[1];return Object(s.useEffect)((function(){T("category",m)}),[]),Object(s.useEffect)((function(){y(!0),u([]),T("product?",u,g,y,a)}),[a]),Object(b.jsxs)("div",{className:W.a.products,children:[Object(b.jsx)(S,{handleSearch:function(t){return c(Object(i.a)(Object(i.a)({},a),{},{search:t}))}}),Object(b.jsxs)("div",{className:W.a.productsInner,children:[Object(b.jsx)(E,{allCategory:h,filterProducts:function(t){return c(Object(i.a)(Object(i.a)({},a),{},{category:t}))},clearCategoryFilter:function(){return c(Object(i.a)(Object(i.a)({},a),{},{category:[]}))},handleStatusLimited:function(){return c(Object(i.a)(Object(i.a)({},a),{},{isLimited:!a.isLimited}))},handleStatusNew:function(){return c(Object(i.a)(Object(i.a)({},a),{},{isNew:!a.isNew}))}}),Object(b.jsx)(p,{productItems:(null===d||void 0===d?void 0:d.results)||[],isFetchError:O,isFetch:N})]})]})};n.a.render(Object(b.jsx)(c.a.Fragment,{children:Object(b.jsx)(A,{})}),document.getElementById("root"))},6:function(t,e,a){t.exports={button:"Buttons_button___WWWd",buttonPress:"Buttons_buttonPress__1EfgJ"}},9:function(t,e,a){t.exports={search:"Search_search__1QLNe",searchInput:"Search_searchInput__3uCud",searchButton:"Search_searchButton__RREtM",searchButtonIcon:"Search_searchButtonIcon__3-BYP"}}},[[56,1,2]]]);
//# sourceMappingURL=main.4f71afeb.chunk.js.map